[gd_scene load_steps=10 format=3 uid="uid://bbm0ndkresxf3"]

[ext_resource type="Script" path="res://Scripts/TurnManager.gd" id="1_775kt"]
[ext_resource type="Texture2D" uid="uid://bggfi8xvbp601" path="res://Sprites/Dragon.png" id="1_d0g86"]
[ext_resource type="PackedScene" uid="uid://djeocryoaexlr" path="res://Scenes/Character.tscn" id="1_t4a0q"]
[ext_resource type="Resource" uid="uid://bhn61qbfvs0xd" path="res://CombatActions/Slash.tres" id="3_edw4o"]
[ext_resource type="Texture2D" uid="uid://b3lxpukvd2g3q" path="res://Sprites/Reptile.png" id="3_n6it1"]
[ext_resource type="Resource" uid="uid://bvemfgpiqcq8t" path="res://CombatActions/Stomp.tres" id="4_lnagh"]
[ext_resource type="Resource" uid="uid://br12xbm100744" path="res://CombatActions/Heal.tres" id="5_wlvil"]
[ext_resource type="Script" path="res://Scripts/CombatActionButton.gd" id="8_dskea"]
[ext_resource type="Script" path="res://PlayerCombatActionsUI.gd" id="8_rtagp"]

[node name="BattleScene" type="Node2D" node_paths=PackedStringArray("player_char", "enemy_char")]
script = ExtResource("1_775kt")
player_char = NodePath("Player")
enemy_char = NodePath("Enemy")

[node name="Player" parent="." node_paths=PackedStringArray("opponent") instance=ExtResource("1_t4a0q")]
position = Vector2(-332, -50)
is_player = true
current_hp = 50
max_hp = 50
combat_actions = [ExtResource("3_edw4o"), ExtResource("4_lnagh"), ExtResource("5_wlvil")]
opponent = NodePath("../Enemy")
visual = ExtResource("1_d0g86")

[node name="Enemy" parent="." node_paths=PackedStringArray("opponent") instance=ExtResource("1_t4a0q")]
position = Vector2(200, -50)
current_hp = 50
max_hp = 50
combat_actions = [ExtResource("5_wlvil"), ExtResource("3_edw4o")]
opponent = NodePath("../Player")
visual = ExtResource("3_n6it1")
flip_visual = true

[node name="Camera2D" type="Camera2D" parent="."]

[node name="PlayerCombatActionsUI" type="VBoxContainer" parent="."]
offset_left = -408.0
offset_top = 65.0
offset_right = -368.0
offset_bottom = 105.0
scale = Vector2(1.52, 1.12)
script = ExtResource("8_rtagp")
buttons = [NodePath("CombatAction"), NodePath("CombatAction2"), NodePath("CombatAction3"), NodePath("CombatAction4")]

[node name="CombatAction" type="Button" parent="PlayerCombatActionsUI"]
layout_mode = 2
text = "Slash (5 DMG)
"
script = ExtResource("8_dskea")

[node name="CombatAction2" type="Button" parent="PlayerCombatActionsUI"]
layout_mode = 2
text = "Slash (5 DMG)
"
script = ExtResource("8_dskea")

[node name="CombatAction3" type="Button" parent="PlayerCombatActionsUI"]
layout_mode = 2
text = "Slash (5 DMG)
"
script = ExtResource("8_dskea")

[node name="CombatAction4" type="Button" parent="PlayerCombatActionsUI"]
layout_mode = 2
text = "Slash (5 DMG)
"
script = ExtResource("8_dskea")

[connection signal="pressed" from="PlayerCombatActionsUI/CombatAction" to="PlayerCombatActionsUI/CombatAction" method="_on_pressed"]
[connection signal="pressed" from="PlayerCombatActionsUI/CombatAction2" to="PlayerCombatActionsUI/CombatAction2" method="_on_pressed"]
[connection signal="pressed" from="PlayerCombatActionsUI/CombatAction3" to="PlayerCombatActionsUI/CombatAction3" method="_on_pressed"]
[connection signal="pressed" from="PlayerCombatActionsUI/CombatAction4" to="PlayerCombatActionsUI/CombatAction4" method="_on_pressed"]
